<!-- Modal para crear un commit -->
<div class="modal-overlay" x-show="$store.ui.isModalOpen('createCommit')" 
     x-transition:enter="transition-opacity ease-out duration-300"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="transition-opacity ease-in duration-200"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0"
     @click="$store.ui.closeModal('createCommit')"
     x-data="createCommitModalComponent()">
    <div class="modal" @click.stop style="width: 600px; max-width: 90vw;">
        <div class="modal-header">
            <h2 x-text="$store.i18n.t('versionControl.createCommit') || 'Crear Commit'"></h2>
            <button class="modal-close" @click="$store.ui.closeModal('createCommit')">
                <i data-lucide="x"></i>
            </button>
        </div>
        
        <div class="modal-body">
            <div class="form-group">
                <label x-text="$store.i18n.t('versionControl.commitMessage') || 'Mensaje del commit'"></label>
                <textarea 
                    class="form-control" 
                    rows="3" 
                    x-model="message"
                    :placeholder="$store.i18n.t('versionControl.commitMessagePlaceholder') || 'Descripción del cambio...'"></textarea>
            </div>
            
            <div class="form-group">
                <label x-text="$store.i18n.t('versionControl.author') || 'Autor'"></label>
                <input type="text" class="form-control" x-model="author" 
                       :placeholder="$store.i18n.t('versionControl.authorPlaceholder') || 'Tu nombre...'">
            </div>
            
            <!-- Información del proyecto actual -->
            <div class="section">
                <h3 x-text="$store.i18n.t('versionControl.currentProjectStats') || 'Estadísticas del Proyecto Actual'"></h3>
                <div class="stats-grid">
                    <div class="stat-item">
                        <span class="stat-label" x-text="$store.i18n.t('stats.totalWords') || 'Palabras totales:'"></span>
                        <span class="stat-value" x-text="totalWords"></span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label" x-text="$store.i18n.t('stats.totalChapters') || 'Capítulos:'"></span>
                        <span class="stat-value" x-text="totalChapters"></span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label" x-text="$store.i18n.t('stats.totalCharacters') || 'Personajes:'"></span>
                        <span class="stat-value" x-text="totalCharacters"></span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label" x-text="$store.i18n.t('stats.totalScenes') || 'Escenas:'"></span>
                        <span class="stat-value" x-text="totalScenes"></span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="modal-footer">
            <button class="btn btn-secondary" @click="$store.ui.closeModal('createCommit')" 
                    x-text="$store.i18n.t('common.cancel') || 'Cancelar'"></button>
            <button class="btn btn-primary" 
                    @click="createCommitWithModalData()"
                    :disabled="!message.trim()"
                    x-text="$store.i18n.t('versionControl.createCommit') || 'Crear Commit'"></button>
        </div>
    </div>
</div>