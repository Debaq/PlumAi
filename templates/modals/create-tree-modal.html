<!-- Modal para crear un nuevo árbol de proyecto (estructura de capítulos/escenas) -->
<div class="modal-overlay" x-show="$store.ui.isModalOpen('createTree')" 
     x-transition:enter="transition-opacity ease-out duration-300"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="transition-opacity ease-in duration-200"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0"
     @click="$store.ui.closeModal('createTree')"
     x-data="createTreeModalComponent()">
    <div class="modal" @click.stop style="width: 600px; max-width: 90vw;">
        <div class="modal-header">
            <h2 x-text="$store.i18n.t('versionControl.createTree') || 'Crear Estructura de Proyecto'"></h2>
            <button class="modal-close" @click="$store.ui.closeModal('createTree')">
                <i data-lucide="x"></i>
            </button>
        </div>
        
        <div class="modal-body">
            <div class="alert alert-info">
                <i data-lucide="info"></i>
                <div>
                    <strong x-text="$store.i18n.t('versionControl.treeStructure') || 'Estructura de Proyecto'"></strong>
                    <p x-text="$store.i18n.t('versionControl.treeStructureDesc') || 'Crea una estructura de árbol para organizar tus capítulos y escenas'"></p>
                </div>
            </div>
            
            <div class="form-group">
                <label x-text="$store.i18n.t('versionControl.treeName') || 'Nombre de la estructura'"></label>
                <input type="text" class="form-control" x-model="name" 
                       :placeholder="$store.i18n.t('versionControl.treeNamePlaceholder') || 'Nombre de la estructura...'">
            </div>
            
            <div class="form-group">
                <label x-text="$store.i18n.t('versionControl.treeType') || 'Tipo de estructura'"></label>
                <select class="form-control" x-model="type">
                    <option value="chapter" x-text="$store.i18n.t('versionControl.chapterTree') || 'Árbol de Capítulos'"></option>
                    <option value="scene" x-text="$store.i18n.t('versionControl.sceneTree') || 'Árbol de Escenas'"></option>
                    <option value="outline" x-text="$store.i18n.t('versionControl.outlineTree') || 'Árbol de Esquema'"></option>
                </select>
            </div>
            
            <div class="form-group">
                <label x-text="$store.i18n.t('versionControl.treeDescription') || 'Descripción'"></label>
                <textarea 
                    class="form-control" 
                    rows="3" 
                    x-model="description"
                    :placeholder="$store.i18n.t('versionControl.treeDescriptionPlaceholder') || 'Breve descripción de la estructura...'"></textarea>
            </div>
            
            <div class="form-group">
                <label class="checkbox-label">
                    <input type="checkbox" x-model="createFromCurrent">
                    <span x-text="$store.i18n.t('versionControl.createFromCurrent') || 'Crear a partir del proyecto actual'"></span>
                </label>
            </div>
        </div>
        
        <div class="modal-footer">
            <button class="btn btn-secondary" @click="$store.ui.closeModal('createTree')" 
                    x-text="$store.i18n.t('common.cancel') || 'Cancelar'"></button>
            <button class="btn btn-primary" 
                    @click="createTreeWithModalData()"
                    :disabled="!name.trim()"
                    x-text="$store.i18n.t('versionControl.createTree') || 'Crear Estructura'"></button>
        </div>
    </div>
</div>