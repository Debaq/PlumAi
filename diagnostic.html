<!DOCTYPE html>
<html>
<head>
    <title>PlumAI Diagnostic</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1a1a1a; color: #e0e0e0; }
        .pass { color: #4caf50; }
        .fail { color: #f44336; }
        .test { margin: 10px 0; padding: 10px; background: #252525; border-radius: 4px; }
    </style>
</head>
<body>
    <h1>PlumAI Diagnostic</h1>
    <div id="results"></div>

    <script src="js/i18n/locales/es-global.js"></script>
    <script src="js/i18n/locales/en-global.js"></script>
    <script src="js/stores/i18n-global.js"></script>
    <script src="js/stores/project-global.js"></script>
    <script src="js/stores/ui-global.js"></script>
    <script src="js/stores/ai-global.js"></script>
    <script src="js/stores/version-control-global.js"></script>
    <script src="js/services/ai-service.js"></script>

    <script>
        const tests = [];
        
        function test(name, condition) {
            const status = condition ? 'PASS' : 'FAIL';
            const className = condition ? 'pass' : 'fail';
            tests.push(`<div class="test ${className}">[${status}] ${name}</div>`);
        }

        // Test stores
        test('window.i18nStore defined', typeof window.i18nStore === 'object');
        test('window.projectStore defined', typeof window.projectStore === 'object');
        test('window.uiStore defined', typeof window.uiStore === 'object');
        test('window.aiStore defined', typeof window.aiStore === 'object');
        test('window.versionControlStore defined', typeof window.versionControlStore === 'object');
        
        // Test ai-service
        test('window.aiService defined', typeof window.aiService === 'object');
        test('window.aiService.init is function', typeof window.aiService?.init === 'function');
        test('window.aiService.providers defined', typeof window.aiService?.providers === 'object');
        
        // Test projectStore.apiKeys
        test('projectStore.apiKeys defined', typeof window.projectStore?.apiKeys === 'object');
        test('projectStore.apiKeys.claude exists', 'claude' in (window.projectStore?.apiKeys || {}));
        
        document.getElementById('results').innerHTML = tests.join('');
        
        // Log to console
        console.log('=== PlumAI Diagnostic ===');
        tests.forEach(t => console.log(t.replace(/<[^>]*>/g, '')));
    </script>
</body>
</html>
